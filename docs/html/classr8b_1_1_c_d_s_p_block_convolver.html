<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TorpedoSimulator: r8b::CDSPBlockConvolver Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">TorpedoSimulator
   &#160;<span id="projectnumber">0.0.0</span>
   </div>
   <div id="projectbrief">torpedosimulator</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classr8b_1_1_c_d_s_p_block_convolver.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classr8b_1_1_c_d_s_p_block_convolver-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">r8b::CDSPBlockConvolver Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Single-block overlap-save convolution processing class.  
 <a href="classr8b_1_1_c_d_s_p_block_convolver.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_c_d_s_p_block_convolver_8h_source.html">CDSPBlockConvolver.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for r8b::CDSPBlockConvolver:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classr8b_1_1_c_d_s_p_block_convolver.png" usemap="#r8b::CDSPBlockConvolver_map" alt=""/>
  <map id="r8b::CDSPBlockConvolver_map" name="r8b::CDSPBlockConvolver_map">
<area href="classr8b_1_1_c_d_s_p_processor.html" title="The base virtual class for DSP processing algorithms." alt="r8b::CDSPProcessor" shape="rect" coords="0,56,161,80"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:abf071379631b5bec0d1e45479df3ce39"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classr8b_1_1_c_d_s_p_block_convolver.html#abf071379631b5bec0d1e45479df3ce39">CDSPBlockConvolver</a> (<a class="el" href="classr8b_1_1_c_d_s_p_f_i_r_filter.html">CDSPFIRFilter</a> &amp;aFilter, const int aUpFactor, const int aDownFactor, const double PrevLatency=0.0, const bool aDoConsumeLatency=true)</td></tr>
<tr class="separator:abf071379631b5bec0d1e45479df3ce39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a11ea57ba513e446c06649dedd74804"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classr8b_1_1_c_d_s_p_block_convolver.html#a7a11ea57ba513e446c06649dedd74804">getLatency</a> () const</td></tr>
<tr class="separator:a7a11ea57ba513e446c06649dedd74804"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f49f3df9d890b4434b035b287f9193d"><td class="memItemLeft" align="right" valign="top">virtual double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classr8b_1_1_c_d_s_p_block_convolver.html#a2f49f3df9d890b4434b035b287f9193d">getLatencyFrac</a> () const</td></tr>
<tr class="separator:a2f49f3df9d890b4434b035b287f9193d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01e07fdd5989ba7d1529bd07387657b7"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classr8b_1_1_c_d_s_p_block_convolver.html#a01e07fdd5989ba7d1529bd07387657b7">getMaxOutLen</a> (const int MaxInLen) const</td></tr>
<tr class="separator:a01e07fdd5989ba7d1529bd07387657b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6a24b95206cfe5d382d0d715377217b"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classr8b_1_1_c_d_s_p_block_convolver.html#aa6a24b95206cfe5d382d0d715377217b">clear</a> ()</td></tr>
<tr class="separator:aa6a24b95206cfe5d382d0d715377217b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6624e3a32b4654cae5fff026a6235d5"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classr8b_1_1_c_d_s_p_block_convolver.html#af6624e3a32b4654cae5fff026a6235d5">process</a> (double *ip, int l0, double *&amp;op0)</td></tr>
<tr class="separator:af6624e3a32b4654cae5fff026a6235d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Single-block overlap-save convolution processing class. </p>
<p>Class that implements single-block overlap-save convolution processing. The length of a single FFT block used depends on the length of the filter kernel.</p>
<p>The rationale behind "single-block" processing is that increasing the FFT block length by 2 is more efficient than performing convolution at the same FFT block length but using two blocks.</p>
<p>This class also implements a built-in resampling by any whole-number factor, which simplifies the overall resampling objects topology. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="abf071379631b5bec0d1e45479df3ce39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf071379631b5bec0d1e45479df3ce39">&#9670;&nbsp;</a></span>CDSPBlockConvolver()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">r8b::CDSPBlockConvolver::CDSPBlockConvolver </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classr8b_1_1_c_d_s_p_f_i_r_filter.html">CDSPFIRFilter</a> &amp;&#160;</td>
          <td class="paramname"><em>aFilter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>aUpFactor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>aDownFactor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&#160;</td>
          <td class="paramname"><em>PrevLatency</em> = <code>0.0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>aDoConsumeLatency</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Constructor initializes internal variables and constants of *this object.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aFilter</td><td>Pre-calculated filter data. Reference to this object is inhertied by *this object, and the object will be released when *this object is destroyed. If upsampling is used, filter's gain should be equal to the upsampling factor. </td></tr>
    <tr><td class="paramname">aUpFactor</td><td>The upsampling factor, positive value. E.g. value of 2 means 2x upsampling should be performed over the input data. </td></tr>
    <tr><td class="paramname">aDownFactor</td><td>The downsampling factor, positive value. E.g. value of 2 means 2x downsampling should be performed over the output data. </td></tr>
    <tr><td class="paramname">PrevLatency</td><td>Latency, in samples (any value &gt;=0), which was left in the output signal by a previous process. This value is usually non-zero if the minimum-phase filters are in use. This value is always zero if the linear-phase filters are in use. </td></tr>
    <tr><td class="paramname">aDoConsumeLatency</td><td>"True" if the output latency should be consumed. Does not apply to the fractional part of the latency (if such part is available). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aa6a24b95206cfe5d382d0d715377217b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6a24b95206cfe5d382d0d715377217b">&#9670;&nbsp;</a></span>clear()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void r8b::CDSPBlockConvolver::clear </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Function clears (resets) the state of *this object and returns it to the state after construction. All input data accumulated in the internal buffer so far will be discarded. </p>

<p>Implements <a class="el" href="classr8b_1_1_c_d_s_p_processor.html#a97d913000da2b0562f6d3a3240f865ae">r8b::CDSPProcessor</a>.</p>

</div>
</div>
<a id="a7a11ea57ba513e446c06649dedd74804"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a11ea57ba513e446c06649dedd74804">&#9670;&nbsp;</a></span>getLatency()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int r8b::CDSPBlockConvolver::getLatency </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>The latency, in samples, which is present in the output signal. This value is usually zero if the DSP processor "consumes" the latency automatically. </dd></dl>

<p>Implements <a class="el" href="classr8b_1_1_c_d_s_p_processor.html#af7a90d316ff82c232e4378b30e5a198b">r8b::CDSPProcessor</a>.</p>

</div>
</div>
<a id="a2f49f3df9d890b4434b035b287f9193d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f49f3df9d890b4434b035b287f9193d">&#9670;&nbsp;</a></span>getLatencyFrac()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual double r8b::CDSPBlockConvolver::getLatencyFrac </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>Fractional latency, in samples, which is present in the output signal. This value is usually zero if a linear-phase filtering is used. With minimum-phase filters in use, this value can be non-zero even if the <a class="el" href="classr8b_1_1_c_d_s_p_block_convolver.html#a7a11ea57ba513e446c06649dedd74804">getLatency()</a> function returns zero. </dd></dl>

<p>Implements <a class="el" href="classr8b_1_1_c_d_s_p_processor.html#ae0ab083c23cc2d4539b24afb6edecdd9">r8b::CDSPProcessor</a>.</p>

</div>
</div>
<a id="a01e07fdd5989ba7d1529bd07387657b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01e07fdd5989ba7d1529bd07387657b7">&#9670;&nbsp;</a></span>getMaxOutLen()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int r8b::CDSPBlockConvolver::getMaxOutLen </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>MaxInLen</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">MaxInLen</td><td>The number of samples planned to process at once, at most. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The maximal length of the output buffer required when processing the "MaxInLen" number of input samples. </dd></dl>

<p>Implements <a class="el" href="classr8b_1_1_c_d_s_p_processor.html#a094385b168ff5dd204755690b25177a8">r8b::CDSPProcessor</a>.</p>

</div>
</div>
<a id="af6624e3a32b4654cae5fff026a6235d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6624e3a32b4654cae5fff026a6235d5">&#9670;&nbsp;</a></span>process()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int r8b::CDSPBlockConvolver::process </td>
          <td>(</td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>l0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&amp;&#160;</td>
          <td class="paramname"><em>op0</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Function performs DSP processing.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">ip</td><td>Input data pointer. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">l0</td><td>How many samples to process. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">op0</td><td>Output data pointer. The capacity of this buffer should be equal to the value returned by the <a class="el" href="classr8b_1_1_c_d_s_p_block_convolver.html#a01e07fdd5989ba7d1529bd07387657b7">getMaxOutLen()</a> function for the given "l0". This buffer can be equal to "ip" only if the getMaxOutLen( l0 ) function returned a value lesser than "l0". This pointer can be incremented on function's return if latency compensation was performed by the processor. Note that on function's return, this pointer may point to some internal buffers, including the "ip" buffer, ignoring the originally passed value. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of output samples written to the "op0" buffer and available after processing. This value can be smaller or larger in comparison to the original "l0" value due to processing and filter's latency compensation that took place, and due to resampling if it was performed. </dd></dl>

<p>Implements <a class="el" href="classr8b_1_1_c_d_s_p_processor.html#ac3bd3847b36ab75fc3f6f47380fd0124">r8b::CDSPProcessor</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>C:/Users/prog5/Documents/myprojects/torpedosimulator/src/libs/AudioStreaming/AudioStreamingLib/AudioStreamingLibCore/3rdparty/r8brain/<a class="el" href="_c_d_s_p_block_convolver_8h_source.html">CDSPBlockConvolver.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacer8b.html">r8b</a></li><li class="navelem"><a class="el" href="classr8b_1_1_c_d_s_p_block_convolver.html">CDSPBlockConvolver</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
